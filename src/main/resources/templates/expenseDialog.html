<dialog id="expense-dialog"
        onclose="this.remove()"
        class="p-3 flex flex-col justify-center rounded-xl p-6 shadow-xl backdrop:bg-black/50">
    <script>
        function closeDialog() {
            document.getElementById('expense-dialog').close();
        }
    </script>

    <style>
        #expense-dialog {

        /* Position visible dialog near the top of the window */
            margin-top:10vh;

            /* Sizing for visible dialog */
            width:80%;
            max-width:600px;

            /* Display properties for visible dialog*/
            border:solid 1px #999;
            border-radius:8px;
            box-shadow: 0px 0px 20px 0px rgba(0,0,0,0.3);
            background-color:white;
            padding:20px;

            /* Animate when opening */
            animation-name:zoomIn;
            animation-duration:150ms;
            animation-timing-function: ease;

            position: absolute;
            left: 50%;
            transform: translate(-50%);

        }
    </style>
    <div class="mb-2">
        <h3 class="text-center">Payment details</h3>
        <button onclick="closeDialog();"
                class="absolute right-0 top-0 m-2 px-3 py-1.5 bg-gray-200 hover:bg-gray-300 text-sm font-medium rounded-md transition">X</button>
    </div>

    <hr>

    <form id="newExpenseForm"
          class="mt-3 grid grid-cols-2 max-w-sm self-center"
          hx-put="/expense"
          hx-target="#expense-dialog"
          hx-swap="outerHTML"
          hx-ext="json-enc">
        <input hidden
               id="id"
               name="id"
               th:value="${expense.id}">
        <label for="category">Category:</label>
        <select id="category"
                name="categoryId"
                th:value="${expense.category.id}">
            <option th:each="c : ${categories}"
                    th:value="${c.id}"
                    th:text="${c.name}"
                    th:selected="${c.id == expense.category.id}">
            </option>
        </select>
<!--        <input id="category"-->
<!--               name="category"-->
<!--               class="text-center"-->
<!--               th:value="${expense.category}">-->
        <label for="payee">Payee:</label>
        <input id="payee"
               name="payee"
               th:value="${expense.payee}">
        <label for="date">Date:</label>
        <input id="date"
               name="date"
               type="date"
               th:value="${expense.date}">
        <label for="amount">Amount:</label>
        <input id="amount"
               name="amount"
               class="text-right"
               th:value="${expense.amount}">

        <label for="comment">Comment:</label>
        <textarea id="comment"
                  name="comment"
                  th:text="${expense.comment}"
                  rows="3"
                  maxlength="255"
                  class="resize-none"></textarea>
        
        <button type="reset">Reset</button>
        <button type="submit" disabled>Update</button>
    </form>
</dialog>